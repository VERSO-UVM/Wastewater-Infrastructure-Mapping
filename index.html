<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vermont Wastewater Map</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
    <style>
        /* Additional CSS for customizing the map container */
        #map {
            width: 100%;
            height: 600px;
        }
    </style>
</head>
<body>
    <nav>
        <div class="nav-left">
            <a href="index.html">Vermont Wastewater Map</a>
        </div>
        <div class="nav-right">
            <a href="about.html">About</a>
            <a href="data.html">Data</a>
            <a href="contribute.html">Contribute</a>
        </div>
    </nav>

    <main>
        <section>
            <h2>Welcome to the Vermont Wastewater Map Project</h2>
            <div class="warning">
                Warning: This is a project in progress. The data is not complete.
            </div>
            <p>This project aims to map and analyze wastewater infrastructure in Vermont. Explore the various sections to learn more about our service area, linear features, point features, facilities, and onsite soil ratings.</p>
        </section>
        <div id="map" style="width: 100%; height: 600px;"></div>
        <script>
            var map = L.map('map').setView([44.5588, -72.5778], 8); // Centered on Vermont
    
            L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
                attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
            }).addTo(map);
    
            function onEachFeature(feature, layer) {
                var popupContent = "<strong>" + feature.properties.name + "</strong><br>";
                for (var key in feature.properties) {
                    if (key !== "name") {
                        popupContent += key + ": " + feature.properties[key] + "<br>";
                    }
                }
                layer.bindPopup(popupContent);
                layer.on('mouseover', function (e) {
                    this.openPopup();
                });
                layer.on('mouseout', function (e) {
                    this.closePopup();
                });
            }
    
            fetch('data/VermontServiceArea.geojson')
                .then(response => response.json())
                .then(data => {
                    L.geoJSON(data, {
                        onEachFeature: onEachFeature
                    }).addTo(map);
                })
                .catch(error => console.error(error));
    
            fetch('data/VermontLinearFeatures.geojson')
                .then(response => response.json())
                .then(data => {
                    L.geoJSON(data, {
                        onEachFeature: onEachFeature
                    }).addTo(map);
                })
                .catch(error => console.error(error));
    
            fetch('data/VermontWWTF.geojson')
                .then(response => response.json())
                .then(data => {
                    L.geoJSON(data, {
                        onEachFeature: onEachFeature
                    }).addTo(map);
                })
                .catch(error => console.error(error));
        </script>
        
        <h2>Introduction</h2>
        <p>
         This map attempts to address critical challenges in Vermont's development landscape by conducting a comprehensive assessment of wastewater infrastructure across towns in the state. A wastewater system, also known as a sewage or sewer system, refers to the infrastructure designed to collect, transport, treat, and dispose of wastewater generated from residential, commercial, and industrial sources. The system typically includes a network of pipes, pumps, lift stations, and treatment facilities that work together to manage and process wastewater before releasing it back into the environment.
        </p>
        <p>
        This initiative, in collaboration with the Windham Regional Commission, the State of Vermont Agency of Natural Resources and the Department of Environmental Conservation and funded by the Leahy Institute for Rural Partnerships, we attempt to systematically map wastewater infrastructure data to understand its impact on economic activity and housing development. This includes finding what data is already available, working with partners to determine the format of the data to be collected, and then working with available online resources and reaching out to towns to identify and record wastewater systems.
        </p>

    </body>
    </main>
</body>
</html>

